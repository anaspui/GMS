USE master;

-- Create the database
CREATE DATABASE GroceryMSdb;

-- Switch to the new database
USE GroceryMSdb;

-- Create the User Table
CREATE TABLE [dbo].[User]
(
Id INT PRIMARY KEY,
UserName NVARCHAR(100) NOT NULL,
Password NVARCHAR(100) NOT NULL,
Name NVARCHAR(100) NOT NULL,
Role NVARCHAR(50)
);

-- Create the ProductList Table
CREATE TABLE ProductList (
ProdId NVARCHAR(10) PRIMARY KEY,
ProdName NVARCHAR(100) NOT NULL,
ProdPrice DECIMAL(18, 2) NOT NULL,
ProdQty INT NOT NULL,
ProdCat NVARCHAR(50) NOT NULL,
DateAdded DATE NOT NULL
);

-- Create the SelectedProducts Table
CREATE TABLE SelectedProducts (
SelProdId NVARCHAR(10) PRIMARY KEY,
SelProdName NVARCHAR(100) NOT NULL,
SelProdQty INT NOT NULL,
SelProdPrice DECIMAL(18, 2) NOT NULL
);

-- Create the Customer Table
CREATE TABLE Customer (
CusId VARCHAR(50) PRIMARY KEY,
CusName NVARCHAR(100),
CusPhone VARCHAR(20),
OrderId VARCHAR(50)
);

-- Create the Order Table
CREATE TABLE [Order] (
OrderId VARCHAR(50) PRIMARY KEY,
CusId VARCHAR(50),
EmpId VARCHAR(50),
DateSold DATE,
TotalPrice DECIMAL(18, 2),
CusName NVARCHAR(100)
);

-- Create the Employee Table
CREATE TABLE Employee (
EmpId VARCHAR(50) PRIMARY KEY,
EmpName NVARCHAR(100),
EmpPhone VARCHAR(20)
);

-- Create the database diagrams
USE GroceryMSdb;

EXEC sp_dbcmptlevel 'GroceryMSdb', '140';

ALTER DATABASE [GroceryMSdb] SET ANSI_NULL_DEFAULT OFF;

ALTER DATABASE [GroceryMSdb] SET ANSI_NULLS OFF;

ALTER DATABASE [GroceryMSdb] SET ANSI_PADDING OFF;

ALTER DATABASE [GroceryMSdb] SET ANSI_WARNINGS OFF;

ALTER DATABASE [GroceryMSdb] SET ARITHABORT OFF;

ALTER DATABASE [GroceryMSdb] SET AUTO_CLOSE OFF;

ALTER DATABASE [GroceryMSdb] SET AUTO_CREATE_STATISTICS ON;

ALTER DATABASE [GroceryMSdb] SET AUTO_SHRINK OFF;

ALTER DATABASE [GroceryMSdb] SET AUTO_UPDATE_STATISTICS ON;

ALTER DATABASE [GroceryMSdb] SET CURSOR_CLOSE_ON_COMMIT OFF;

ALTER DATABASE [GroceryMSdb] SET CURSOR_DEFAULT GLOBAL;

ALTER DATABASE [GroceryMSdb] SET CONCAT_NULL_YIELDS_NULL OFF;

ALTER DATABASE [GroceryMSdb] SET NUMERIC_ROUNDABORT OFF;

ALTER DATABASE [GroceryMSdb] SET QUOTED_IDENTIFIER OFF;

ALTER DATABASE [GroceryMSdb] SET RECURSIVE_TRIGGERS OFF;

ALTER DATABASE [GroceryMSdb] SET DISABLE_BROKER;

ALTER DATABASE [GroceryMSdb] SET AUTO_UPDATE_STATISTICS_ASYNC OFF;

ALTER DATABASE [GroceryMSdb] SET DATE_CORRELATION_OPTIMIZATION OFF;

ALTER DATABASE [GroceryMSdb] SET TRUSTWORTHY OFF;

ALTER DATABASE [GroceryMSdb] SET ALLOW_SNAPSHOT_ISOLATION OFF;

ALTER DATABASE [GroceryMSdb] SET PARAMETERIZATION SIMPLE;

ALTER DATABASE [GroceryMSdb] SET READ_COMMITTED_SNAPSHOT OFF;

ALTER DATABASE [GroceryMSdb] SET HONOR_BROKER_PRIORITY OFF;

ALTER DATABASE [GroceryMSdb] SET RECOVERY SIMPLE;

ALTER DATABASE [GroceryMSdb] SET MULTI_USER;

ALTER DATABASE [GroceryMSdb] SET PAGE_VERIFY CHECKSUM;

ALTER DATABASE [GroceryMSdb] SET DB_CHAINING OFF;

-- End of script
